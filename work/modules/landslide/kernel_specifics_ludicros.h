/**
 * @file kernel_specifics_ludicros.h
 * @brief #defines for the ludicros guest kernel (automatically generated)
 * @author Ben Blum <bblum@andrew.cmu.edu>
 */

#ifndef __LS_KERNEL_SPECIFICS_LUDICROS_H
#define __LS_KERNEL_SPECIFICS_LUDICROS_H

#include "x86.h"

#define GUEST_ESP0_ADDR (0x00100930 + 4)
#define GET_ESP0(cpu) READ_MEMORY(cpu, GUEST_ESP0_ADDR)

#define GUEST_TIMER_WRAP_ENTER     0x00101298
#define GUEST_TIMER_WRAP_EXIT      0x101c21
#define GUEST_CONTEXT_SWITCH_ENTER 0x00104947
#define GUEST_CONTEXT_SWITCH_EXIT  0x1049d4

#define GUEST_READLINE_WINDOW_ENTER 0x00105050
#define GUEST_READLINE_WINDOW_EXIT 0x1050fb

#define GUEST_LMM_ALLOC_ENTER      0x0010a0f4
#define GUEST_LMM_ALLOC_EXIT       0x10a323
#define GUEST_LMM_ALLOC_SIZE_ARGNUM 2
#define GUEST_LMM_ALLOC_GEN_ENTER  0x00106a24
#define GUEST_LMM_ALLOC_GEN_EXIT   0x106d70
#define GUEST_LMM_ALLOC_GEN_SIZE_ARGNUM 2
#define GUEST_LMM_FREE_ENTER       0x001066c0
#define GUEST_LMM_FREE_EXIT        0x1068fe
#define GUEST_LMM_FREE_BASE_ARGNUM 2
#define GUEST_LMM_FREE_SIZE_ARGNUM 3
#define GUEST_LMM_REMOVE_FREE_ENTER 0x00106910
#define GUEST_LMM_REMOVE_FREE_EXIT 0x106a21

#define GUEST_IMG_END 0x00256a74
#define GUEST_DATA_START 0x0024e000
#define GUEST_DATA_END 0x00256014
#define GUEST_BSS_START 0x00256014
#define GUEST_BSS_END GUEST_IMG_END
#define GUEST_PANIC 0x00108428
#define GUEST_KERNEL_MAIN 0x00105660

#define TELL_LANDSLIDE_DECIDE 0x00105c78
#define TELL_LANDSLIDE_THREAD_SWITCH 0x00105c7d
#define TELL_LANDSLIDE_SCHED_INIT_DONE 0x00105c82
#define TELL_LANDSLIDE_FORKING 0x00105c87
#define TELL_LANDSLIDE_VANISHING 0x00105c8c
#define TELL_LANDSLIDE_SLEEPING 0x00105c91
#define TELL_LANDSLIDE_THREAD_RUNNABLE 0x00105c96
#define TELL_LANDSLIDE_THREAD_DESCHEDULING 0x00105c9b
#define TELL_LANDSLIDE_MUTEX_LOCKING 0x00105ca0
#define TELL_LANDSLIDE_MUTEX_BLOCKING 0x00105ca5
#define TELL_LANDSLIDE_MUTEX_LOCKING_DONE 0x00105caa
#define TELL_LANDSLIDE_MUTEX_UNLOCKING 0x00105caf
#define TELL_LANDSLIDE_MUTEX_UNLOCKING_DONE 0x00105cb4

#define GUEST_SCHEDULER_FUNCTIONS { \
	{ 0x001043ca, 0x104424 },\
	{ 0x00104356, 0x1043c9 },\
	{ 0x00104307, 0x104355 },\
	{ 0x001042be, 0x104306 },\
	{ 0x0010488f, 0x10490a },\
	{ 0x00104947, 0x1049d4 },\
	{ 0x00104425, 0x10447a },\
	{ 0x00104a84, 0x104a9c },\
	{ 0x00104a9d, 0x104aa0 },\
	{ 0x0010475c, 0x10488e },\
	{ 0x001049d5, 0x104a36 }, }
#define GUEST_SCHEDULER_GLOBALS { \
	{ 0x0025604c, 4 }, \
	{ 0x00256948, 4 }, \
	{ 0x0025694c, 4 }, \
	{ 0x00256a5c, 8 }, \
	{ 0x00256a6c, 8 }, \
	{ 0x00256a44, 8 }, \
	{ 0x00256a34, 8 }, \
	{ 0x00256a64, 8 }, \
	{ 0x00256a2c, 8 }, \
	{ 0x00256a4c, 8 }, \
	{ 0x00256a3c, 8 }, \
	{ 0x00256a54, 8 }, \
	{ 0x00256920, 40 }, \
	{ 0x00256480, 40 }, \
	{ 0x002564c0, 40 },  }

#define GUEST_INIT_TID 1
#define GUEST_SHELL_TID 2
#define GUEST_FIRST_TID 1
#define GUEST_IDLE_TID 0

#define GUEST_WITHIN_FUNCTIONS { \
	{ 0x0010260c, 0x1028ac }, }
#define BUG_ON_THREADS_WEDGED 1
#define EXPLORE_BACKWARDS 1

#endif
